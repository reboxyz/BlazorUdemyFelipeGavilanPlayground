@page "/movies/edit/{MovieId:int}"

<h3>Edit Movie</h3>

@if(movie != null)
{
    <MovieForm 
        Movie="movie" 
        OnValidSubmit="Edit"
        NotSelectedGenres="NotSelectedGenres"
        SelectedGenres="SelectedGenres"
    ></MovieForm>
}

@code {
    [Parameter] public int MovieId { get; set; }
    private Movie movie;

    private List<Genre> NotSelectedGenres = new List<Genre>()
    {
        new Genre()
        {
            Id = 1,
            Name = "Action"
        },  
        new Genre()
        {
            Id = 3,
            Name = "Drama"
        },  
    };

    private List<Genre> SelectedGenres = new List<Genre>()
    {  
        new Genre()
        {
            Id = 2,
            Name = "Comedy"
        }  
    };


    protected override void OnInitialized()
    {
        // Todo: Retrieve Movie by Id
        movie = new Movie() {
            Id = MovieId,
            Title= "My Movie"
        };
    }

    private void Edit()
    {
        Console.WriteLine("Editing Movie");
    }

}